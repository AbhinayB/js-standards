<!DOCTYPE html>
<html lang="en">
  <head>
    <base href="http://bguiz.github.io/js-standards/">

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="keyword" content="">
    <link rel="shortcut icon" href="http://bguiz.github.io/js-standards//favicon.ico" type="image/x-icon" />

    <title>ES5 Functions</title>

    <link href="http://bguiz.github.io/js-standards//css/bootstrap-theme.css" rel="stylesheet">
    <link href="http://bguiz.github.io/js-standards//assets/font-awesome/css/font-awesome.min.css" rel="stylesheet" />
    <link href="http://bguiz.github.io/js-standards//css/style.css" rel="stylesheet">
    <link href="http://bguiz.github.io/js-standards//css/style-responsive.css" rel="stylesheet" />
    <link href="http://bguiz.github.io/js-standards//css/monokai_sublime.css" rel="stylesheet" />

  </head>

  <body>
  
  <section id="container" class="">

      
      <header class="header black-bg">
            <div class="toggle-nav">
                <i class="fa fa-bars"></i>
                <div class="icon-reorder tooltips" data-original-title="Toggle Navigation" data-placement="bottom"></div>
            </div>

            
            <a href="http://bguiz.github.io/js-standards/" class="logo"><img src="http://bguiz.github.io/js-standards/img/logo.png" style="height:40px;"></a>
            
            <div class="top-nav notification-row">
                
                <div class="hidden-xs nav-github pull-right">
                    <span rel="show-github" data-user="bguiz" data-repo="js-standards" data-type="follow"></span>
                    <span rel="show-github" data-user="bguiz" data-repo="js-standards"></span>
                    <span rel="show-github" data-user="bguiz" data-repo="js-standards" data-type="fork"></span>
                </div>
            </div>

            <div class="nav title-row" id="top_menu">
                <h1 class="nav top-menu"> ES5 Functions </h1>
            </div>
      </header>
      

      
<aside>
    <div id="sidebar"  class="nav-collapse ">
        
        <ul class="sidebar-menu">
          
          
            
              <li class="sub-menu">
                <a href="javascript:;" class="">
                    
                    <span>Getting Started</span>
                    <span class="menu-arrow fa fa-angle-right"></span>
                </a>
                <ul class="sub">
                    
                    <li><a href="http://bguiz.github.io/js-standards/intro"> Intro </a> </li>
                    
                </ul>
            
              </li>
          
            
              <li class="sub-menu active">
                <a href="javascript:;" class="">
                    
                    <span>Javascript</span>
                    <span class="menu-arrow fa fa-angle-down"></span>
                </a>
                <ul class="sub open">
                    
                    <li><a href="http://bguiz.github.io/js-standards/es5/comments"> Comments (JS) </a> </li>
                    
                    <li><a href="http://bguiz.github.io/js-standards/es5/files"> Files </a> </li>
                    
                    <li><a href="http://bguiz.github.io/js-standards/es5/hoisting"> Hoisting </a> </li>
                    
                    <li class="active"><a href="http://bguiz.github.io/js-standards/es5/functions"> Functions </a> </li>
                    
                    <li><a href="http://bguiz.github.io/js-standards/es5/naming"> Naming </a> </li>
                    
                    <li><a href="http://bguiz.github.io/js-standards/es5/control"> Control </a> </li>
                    
                    <li><a href="http://bguiz.github.io/js-standards/es5/equality"> Equality </a> </li>
                    
                    <li><a href="http://bguiz.github.io/js-standards/es5/types"> Types </a> </li>
                    
                    <li><a href="http://bguiz.github.io/js-standards/es5/lint"> Linting </a> </li>
                    
                </ul>
            
              </li>
          
            
              <li class="sub-menu">
                <a href="javascript:;" class="">
                    
                    <span>AngularJs</span>
                    <span class="menu-arrow fa fa-angle-right"></span>
                </a>
                <ul class="sub">
                    
                    <li><a href="http://bguiz.github.io/js-standards/angularjs/single-responsibility"> Single Responsibility </a> </li>
                    
                    <li><a href="http://bguiz.github.io/js-standards/angularjs/iife"> IIFE </a> </li>
                    
                    <li><a href="http://bguiz.github.io/js-standards/angularjs/modules"> Modules </a> </li>
                    
                    <li><a href="http://bguiz.github.io/js-standards/angularjs/controllers"> Controllers </a> </li>
                    
                    <li><a href="http://bguiz.github.io/js-standards/angularjs/services"> Services </a> </li>
                    
                    <li><a href="http://bguiz.github.io/js-standards/angularjs/factories"> Factories </a> </li>
                    
                    <li><a href="http://bguiz.github.io/js-standards/angularjs/data-services"> Data Services </a> </li>
                    
                    <li><a href="http://bguiz.github.io/js-standards/angularjs/directives"> Directives </a> </li>
                    
                    <li><a href="http://bguiz.github.io/js-standards/angularjs/resolving-promises-for-a-controller"> Resolving Promises for a Controller </a> </li>
                    
                    <li><a href="http://bguiz.github.io/js-standards/angularjs/manual-annotating-for-dependency-injection"> Manual Annotating for Dependency Injection </a> </li>
                    
                    <li><a href="http://bguiz.github.io/js-standards/angularjs/minification-and-annotation"> Minification and Annotation </a> </li>
                    
                    <li><a href="http://bguiz.github.io/js-standards/angularjs/exception-handling"> Exception Handling </a> </li>
                    
                    <li><a href="http://bguiz.github.io/js-standards/angularjs/naming"> Naming </a> </li>
                    
                    <li><a href="http://bguiz.github.io/js-standards/angularjs/application-structure-lift-principle"> Application Structure LIFT Principle </a> </li>
                    
                    <li><a href="http://bguiz.github.io/js-standards/angularjs/application-structure"> Application Structure </a> </li>
                    
                    <li><a href="http://bguiz.github.io/js-standards/angularjs/modularity"> Modularity </a> </li>
                    
                    <li><a href="http://bguiz.github.io/js-standards/angularjs/startup-logic"> Startup Logic </a> </li>
                    
                    <li><a href="http://bguiz.github.io/js-standards/angularjs/angular-wrapper-services"> Angular $ Wrapper Services </a> </li>
                    
                    <li><a href="http://bguiz.github.io/js-standards/angularjs/testing"> Testing </a> </li>
                    
                    <li><a href="http://bguiz.github.io/js-standards/angularjs/animations"> Animations </a> </li>
                    
                    <li><a href="http://bguiz.github.io/js-standards/angularjs/comments"> Comments </a> </li>
                    
                    <li><a href="http://bguiz.github.io/js-standards/angularjs/constants"> Constants </a> </li>
                    
                    <li><a href="http://bguiz.github.io/js-standards/angularjs/file-templates-and-snippets"> File Templates and Snippets </a> </li>
                    
                    <li><a href="http://bguiz.github.io/js-standards/angularjs/yeoman-generator"> Yeoman Generator </a> </li>
                    
                    <li><a href="http://bguiz.github.io/js-standards/angularjs/routing"> Routing </a> </li>
                    
                    <li><a href="http://bguiz.github.io/js-standards/angularjs/task-automation"> Task Automation </a> </li>
                    
                    <li><a href="http://bguiz.github.io/js-standards/angularjs/angularjs-docs"> AngularJS docs </a> </li>
                    
                    <li><a href="http://bguiz.github.io/js-standards/angularjs/folder-structure"> Angular Folder Structure </a> </li>
                    
                    <li><a href="http://bguiz.github.io/js-standards/angularjs/logging"> Logging </a> </li>
                    
                    <li><a href="http://bguiz.github.io/js-standards/angularjs/credit"> Credits </a> </li>
                    
                </ul>
            
              </li>
          
            <li>
                <a href="https://github.com/bguiz/js-standards/issues" target="blank">
                    <i class='fa fa-life-ring'></i> Issues
                </a>
            </li>
            
                <li>
                    <a href="http://bguiz.github.io/js-standards/es5/" target="blank">
                        <i class='fa fa-edit'></i> Edit
                    </a>
                </li>
            
        </ul>
        
    </div>
</aside>



      
      <section id="main-content">
          <section class="wrapper">

              <div class="row">
                  <div class="row-nav-prev col-md-1">
                      <a class="navigation prev" href="http://bguiz.github.io/js-standards/es5/hoisting">
                      <i class="fa fa-angle-left"></i>
                      </a>
                  </div>
                <div class="row-content col-md-10">
                    <section class="panel">
                    <div class="panel-body">



<h3 id="anonymous-and-named-functions:904d9cf85d985550c869e6d9741448cc">Anonymous and named functions</h3>

<p>Anonymous function are functions without a name,
and named function are those with a name.
Note, however, that assigning an anonymous function to a variable
does <em>not</em> make that function a named function.
A function&rsquo;s name is the word in between the <code>function</code> keyword, and its parameter list.</p>

<pre><code class="language-javascript">function namedFunction() {
	/* this is a named function, and its name is &quot;namedFunction&quot; */
}
</code></pre>

<pre><code class="language-javascript">function () {
	/* This is an anonymous function, and it does not have a name */
}
</code></pre>

<pre><code class="language-javascript">var namedFunctionReference = function () {
	/* This is an anonymous function, and it does not have a name
	   &quot;namedFunctionReference&quot; is *not* its name.
	*/
}
</code></pre>

<p>For anonymous functions, include a space between the <code>function</code> keyword and the parameter list:</p>

<pre><code class="language-javascript">function (param, param2) {
	/* do stuff */
}
</code></pre>

<p>For named functions, do not include a space between the function name and the parameter list:</p>

<pre><code class="language-javascript">function doStuff(param, param2) {
	/* do stuff */
}
</code></pre>

<h3 id="trailing-semicolons:904d9cf85d985550c869e6d9741448cc">Trailing semicolons</h3>

<p>For functions assigned to variables, place a <code>;</code> after the closing <code>}</code>:</p>

<pre><code class="language-javascript">var doStuff = function (param, param2) {
	/* do stuff */
};
</code></pre>

<p>For functions that are <em>not</em> assigned to variables, do <em>not</em> place a <code>;</code> after the closing <code>}</code>:</p>

<pre><code class="language-javascript">function doStuff(param, param2) {
	/* do stuff */
}
</code></pre>

<h3 id="avoid-anonymous-functions:904d9cf85d985550c869e6d9741448cc">Avoid Anonymous Functions</h3>

<p>While anonymous functions might be a convenient way to save an extra few keystrokes,
it is advisable to name all but the most trivial of functions,
for these reasons:</p>

<ul>
<li>Self documenting code: It is a good idea to give your functions descriptive names</li>
<li>Stack traces: When an error or exception is raised in the scope of the function,l
the function&rsquo;s name will be displayed in the stack trace.
If that function is anonymous, however, its name does <strong>not</strong> get displayed,
even where the function was assigned to a variable.</li>
</ul>

<p>For these reasons, we should strive to avoid using anonymous functions.
By extension of this logic, assigning an anonymous function to a variable is,
therefore, considered an antipattern.
If you find yourself doing this, simply name the function
the same as the name of the variable.</p>

<pre><code class="language-javascript">// Avoid doing this ...
var doesFoo = function() {
  /* do foo */
};
</code></pre>

<pre><code class="language-javascript">// ... and do this instead
var doesFoo = function doesFoo() {
  /* do foo */
};
</code></pre>

<p>If this seems repetitive, another alternative:</p>

<pre><code class="language-javascript">// ... simply define a function
function doesFoo() {
  /* do foo */
}
</code></pre>

<p>The more astute might point out that the last form is less desirable,
as that will mean that the function, <code>doesFoo</code>, will pollute the global scope.</p>

<p>That is indeed true in the default scope, however,
if placed within an outer function,
the scope will be restricted to within just that outer function.
This gives us an excellent segue to IIFEs!</p>

<p>Before discussing IIFEs, however,
it is worth pointing out that IIFEs should only be used when necessary.
If the platform that you are developing for automatically restricts scope
for each file, such as with NodeJs, then there is no need.
If you are using a build tool such as RequireJs, Browserify, or Webpack,
then there is similarly no need either.
If you are not using any of the above,
writing Javascript executed in the browser,
then consider using IIFEs.</p>

<h3 id="iifes:904d9cf85d985550c869e6d9741448cc">IIFEs</h3>

<p>Immediately invoked function expressions (IIFEs)
are anonymous functions that are surrounded by parentheses,
and called as soon as they are declared;
and thus by definition can only ever be called once:</p>

<pre><code class="language-javascript">(function (param, param2) {
	/* do stuff */
})('param', 1);
</code></pre>

<p>Where possible, avoid using IIFEs.
As a rule of thumb, if it can be done without using an IIFE, use that other approach instead.
Legitimate uses of IIFEs would be scenarios where there is a need to contain code from &ldquo;leaking&rdquo; out,
and there is no way to know ahead of time what the input code will be
For example, when one is writing a tool or pre-processor that outputs generated or transformed code.</p>

<h3 id="function-hoisting:904d9cf85d985550c869e6d9741448cc">Function hoisting</h3>

<p>Hoisting was covered in detail previously,
however, it was done in terms of hoisting of variable declarations.
Hoisting of function declarations works in very much the same way.
This is most pertinent when considering <strong>inner functions</strong>.</p>

<p>Inner functions are functions that are declared within another function.
In this scenario, variables within the scope of the outer function
are made available for use within the inner function by means of closure.
Thus, following the guidelines for variable declarations at the top of each function,
inner functions should always be declared at the top of each function too,
but immediately below these variable declarations for clarity.</p>

<pre><code class="language-javascript">var outerFunction = function () {
	var variableAvailableThroughClosure = 1;

	var innerFunction = function () {
		++variableAvailableThroughClosure;
	}

	innerFunction();
	console.log('variableAvailableThroughClosure is', variableAvailableThroughClosure);
};
</code></pre>

<p>The sequence should be:</p>

<ol>
<li>All variable declarations</li>
<li>All inner function declarations</li>
<li>Outer function instructions</li>
</ol>

<h3 id="pyramid-of-doom:904d9cf85d985550c869e6d9741448cc">Pyramid of Doom</h3>

<p>Also known as Callback Hell.
This occurs when functions next other callback functions within each other,
one time too many.
After a certain level of nesting, it becomes heard to understand
what the original intent of the code was.
It also makes the code look like it has a triangle/ pyramid on its side doing the indentation.</p>

<p>Ensure that the maximum level of nesting is <strong>four</strong> functions.</p>

<p>Before:</p>

<pre><code class="language-javascript">function foo() {
  bar(123, function() {
    baz(456, function() {
      quux(789, function() {
        // complete
        // But this bad, it is nested five levels deep
      });
    });
  });
}
</code></pre>

<p>Refactor to remove some levels of nesting,
by extracting on of the nested function and placing them outside:</p>

<pre><code class="language-javascript">function innerFoo() {
  quux(789, function() {
    // complete
    // This is much better, as this function is only nested two levels deep
  });
}

function foo() {
  bar(123, function() {
    baz(456, innerFoo);
    // ... and this function is only nested three levels deep
  });
}
</code></pre>

<p>Extracting the functions and placing them outside of their original
containing function is the most basic and straightforward means
of avoiding the pyramid of doom.
There are more advanced ways to solve this problem,
for example, using promises.</p>

<h4 id="other-nesting:904d9cf85d985550c869e6d9741448cc">Other Nesting</h4>

<p>Apart from nesting of function scope,
in Javascript, it is also possible to nest block scope.
This is undesirable for similar reasons.</p>

<pre><code class="language-javascript">function foo() {
  for (var i = 0; i &lt; 10; ++i) {
    if (i &gt; 5) {
      for (var j = 0; j &lt; 10; ++j) {
        if (j &gt; 5) {
          for (var k = 0; k &lt; 10; ++k) {
            // do stuff with `i`, `j`, and `k`
            // This is bad, because this block is nested six levels deep
          }
        }
      }
    }
  }
}
</code></pre>

<p>In a situation like this,
one possible solution is to simply split the innermost blocks into its own function,
and call the function as above.
Another possible solution would be to avoid logic
that requires this level of nesting to begin with -
this level of nesting is indiocative of a need to simplify the program flow logic.</p>

<pre><code class="language-javascript">function foo() {
  for (var i = 6; i &lt; 10; ++i) {
    for (var j = 6; j &lt; 10; ++j) {
      for (var k = 0; k &lt; 10; ++k) {
        // do stuff with `i`, `j`, and `k`
        // This is better, because the levels of nesting have decreased
      }
    }
  }
}
</code></pre>

<p>The - admittedly, contrived - contrived example above can be simplified greatly,
by simply removing all of the <code>if</code> statements,
and modifyiong the bounds used by the <code>for</code> loops.</p>

                    </div> 
                    </section> 
                </div> 
                <div class="row-nav-next col-md-1">
                    <a class="navigation prev" href="http://bguiz.github.io/js-standards/es5/naming">
                    <i class="fa fa-angle-right"></i>
                    </a>
                </div>
              </div>
              
          </section>
      </section>
     
  </section>
  
    <script src="http://bguiz.github.io/js-standards/js/jquery-2.1.1.min.js"></script>
    <script src="http://bguiz.github.io/js-standards/js/jquery.scrollTo.min.js"></script>
    <script src="http://bguiz.github.io/js-standards/js/bootstrap.min.js"></script>
    <script src="http://bguiz.github.io/js-standards/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="http://bguiz.github.io/js-standards/js/scripts.js"></script>
    <script async defer id="github-bjs" src="http://bguiz.github.io/js-standards/js/buttons.js"></script>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-37884921-1', 'bguiz.com');
  ga('send', 'pageview');

</script>

  </body>
</html>

